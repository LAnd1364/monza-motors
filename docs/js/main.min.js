let selects=document.querySelectorAll(".form-select"),filters=document.querySelectorAll(".filters .form-select"),checkbox=document.querySelector(".offers__checkbox"),subscrWrap=document.querySelector(".subscribe__input-wrap"),subscrInput=document.querySelector(".subscribe__input"),subscrInputMsg=document.querySelector(".subscribe__input-message"),subscrBtn=document.querySelector(".subscribe__btn");function deactSelects1(s){s.target.classList.contains("form-select")||selects.forEach(s=>s.classList.remove("active"))}function deactSelects2(){selects.forEach(s=>s.classList.remove("active"))}function activate(s){s.addEventListener("click",function(){let s="";this.classList.contains("active")&&(s="y"),selects.forEach(s=>s.classList.remove("active")),"y"===s?this.classList.remove("active"):this.classList.add("active")})}function switcher(){let s=this.nextElementSibling;s.classList.contains("active")?s.classList.remove("active"):s.classList.add("active")}function styleInputOnFocus(){this.placeholder="",this.classList.remove("invalid-mail"),subscrWrap.classList.remove("invalid-mail"),subscrInputMsg.classList.remove("invalid-mail")}function validateMailOnInput(){this.value.match(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/)?(this.classList.add("valid-mail"),subscrWrap.classList.add("valid-mail")):(this.classList.remove("valid-mail"),subscrWrap.classList.remove("valid-mail"))}function validateMailOnClick(){subscrInput.classList.contains("valid-mail")?(subscrInput.value="",subscrInput.classList.remove("valid-mail"),subscrWrap.classList.remove("valid-mail")):(subscrWrap.classList.add("invalid-mail"),subscrInput.classList.add("invalid-mail"),subscrInputMsg.classList.add("invalid-mail"))}document.addEventListener("click",deactSelects1),document.addEventListener("contextmenu",deactSelects2),document.addEventListener("visibilitychange",deactSelects2),checkbox.addEventListener("click",switcher),filters.forEach(s=>activate(s)),subscrInput.addEventListener("focus",styleInputOnFocus),subscrInput.addEventListener("blur",s=>s.target.placeholder="Enter your email"),subscrInput.addEventListener("input",validateMailOnInput),subscrBtn.addEventListener("click",validateMailOnClick);